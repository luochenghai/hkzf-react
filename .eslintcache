[{"C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\pages\\Index\\index.js":"1","C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\utils\\http.js":"2","C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\index.js":"3","C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\pages\\Profile\\index.js":"4","C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\pages\\Index\\api.js":"5","C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\pages\\HouseList\\index.js":"6","C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\pages\\Home\\index.js":"7","C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\pages\\Map\\index.js":"8","C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\App.js":"9","C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\pages\\Citylist\\index.js":"10"},{"size":6736,"mtime":1610719632504,"results":"11","hashOfConfig":"12"},{"size":631,"mtime":1610380262796,"results":"13","hashOfConfig":"12"},{"size":374,"mtime":1610336917593,"results":"14","hashOfConfig":"12"},{"size":252,"mtime":1610338180052,"results":"15","hashOfConfig":"12"},{"size":868,"mtime":1610768663261,"results":"16","hashOfConfig":"12"},{"size":256,"mtime":1610338176194,"results":"17","hashOfConfig":"12"},{"size":2601,"mtime":1610553145170,"results":"18","hashOfConfig":"12"},{"size":894,"mtime":1610543964995,"results":"19","hashOfConfig":"12"},{"size":950,"mtime":1610553687155,"results":"20","hashOfConfig":"12"},{"size":1565,"mtime":1610771278883,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1hg5xxx",{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45"},"C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\pages\\Index\\index.js",[],"C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\utils\\http.js",[],"C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\index.js",[],["46","47"],"C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\pages\\Profile\\index.js",[],"C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\pages\\Index\\api.js",[],"C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\pages\\HouseList\\index.js",[],["48","49"],"C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\pages\\Home\\index.js",[],"C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\pages\\Map\\index.js",[],["50","51"],"C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\App.js",[],"C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\pages\\Citylist\\index.js",["52"],"import React from 'react';\r\nimport { NavBar, Icon } from 'antd-mobile';\r\nimport { getAreaCity ,getHotCity} from '../Index/api'\r\n//import Item from 'antd-mobile/lib/popover/Item';\r\nclass CityList extends React.Component { \r\n    componentDidMount() { this.loadCities()}\r\n   \r\n    formCityData = (data)=>{\r\n      let cityIndex =[];\r\n      let citylist ={};\r\n      data.map(item=>{\r\n        const letter = item.short.substr(0,1);\r\n        if (letter in citylist){\r\n          citylist[letter].push(item);\r\n        }else{\r\n          citylist[letter]= [item];\r\n        }\r\n      })\r\n      // cityIndex 是无序的，需要处理成有序的\r\n      cityIndex = Object.keys(citylist).sort();\r\n      // console.log('cityIndex',cityIndex)\r\n      return {cityIndex,citylist}\r\n    }\r\n\r\n\r\n    loadCities = async () => { \r\n      const { data } = await getAreaCity();\r\n      // 获取热门城市\r\n      const { data:hotData } = await getHotCity();\r\n      const { status, body } = data;\r\n      if (status === 200) { \r\n        // 处理后台返回的数据\r\n        const {cityIndex,citylist} = this.formCityData(body);\r\n        // 在原来的数据的基础上增加热门城市\r\n        cityIndex.unshift('hot');\r\n        citylist['hot'] = hotData.body;\r\n        console.log(citylist,cityIndex)\r\n      }\r\n     \r\n  }\r\n\r\n    render() {\r\n        return (<div>\r\n            <NavBar\r\n        mode=\"light\"\r\n        icon={<Icon type=\"left\" />}\r\n        onLeftClick={() => {this.props.history.goBack()}}\r\n      >选择城市</NavBar>\r\n        </div>)\r\n     }\r\n}\r\nexport default CityList",{"ruleId":"53","replacedBy":"54"},{"ruleId":"55","replacedBy":"56"},{"ruleId":"53","replacedBy":"57"},{"ruleId":"55","replacedBy":"58"},{"ruleId":"53","replacedBy":"59"},{"ruleId":"55","replacedBy":"60"},{"ruleId":"61","severity":1,"message":"62","line":11,"column":20,"nodeType":"63","messageId":"64","endLine":11,"endColumn":22},"no-native-reassign",["65"],"no-negated-in-lhs",["66"],["65"],["66"],["65"],["66"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","no-global-assign","no-unsafe-negation"]