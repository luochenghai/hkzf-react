[{"C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\pages\\Index\\index.js":"1","C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\utils\\http.js":"2","C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\index.js":"3","C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\pages\\Profile\\index.js":"4","C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\pages\\Index\\api.js":"5","C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\pages\\HouseList\\index.js":"6","C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\pages\\Home\\index.js":"7","C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\pages\\Map\\index.js":"8","C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\App.js":"9","C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\pages\\Citylist\\index.js":"10","C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\utils\\getCurrentCity.js":"11","C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\utils\\lsCity.js":"12"},{"size":7397,"mtime":1610778593121,"results":"13","hashOfConfig":"14"},{"size":631,"mtime":1610380262796,"results":"15","hashOfConfig":"14"},{"size":374,"mtime":1610336917593,"results":"16","hashOfConfig":"14"},{"size":252,"mtime":1610338180052,"results":"17","hashOfConfig":"14"},{"size":868,"mtime":1610768663261,"results":"18","hashOfConfig":"14"},{"size":256,"mtime":1610338176194,"results":"19","hashOfConfig":"14"},{"size":2601,"mtime":1610553145170,"results":"20","hashOfConfig":"14"},{"size":894,"mtime":1610543964995,"results":"21","hashOfConfig":"14"},{"size":950,"mtime":1610553687155,"results":"22","hashOfConfig":"14"},{"size":1840,"mtime":1610782049243,"results":"23","hashOfConfig":"14"},{"size":1574,"mtime":1610781417580,"results":"24","hashOfConfig":"14"},{"size":297,"mtime":1610781289026,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"1hg5xxx",{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"49","messages":"50","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\pages\\Index\\index.js",["54"],"C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\utils\\http.js",[],"C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\index.js",[],["55","56"],"C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\pages\\Profile\\index.js",[],"C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\pages\\Index\\api.js",[],"C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\pages\\HouseList\\index.js",[],["57","58"],"C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\pages\\Home\\index.js",[],"C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\pages\\Map\\index.js",[],["59","60"],"C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\App.js",[],"C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\pages\\Citylist\\index.js",["61"],"C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\utils\\getCurrentCity.js",["62"],"\r\nimport { getAreaInfo } from '../pages/Index/api'\r\nimport { setCity,getCity,removeCity } from \"../utils/lsCity.js\";\r\nconst {BMap} = window;\r\n// callback版本\r\n// export const getCurrentCity = (cb)=>{\r\n//     const myCity = new BMap.LocalCity();\r\n//     const myFun = async result=>{\r\n//     const cityName = result.name;\r\n//     // 通过接口查询城市\r\n//     const {data} = await getAreaInfo(cityName);\r\n//     const {body:{label,value}} =  data;\r\n//     // 以下是修改状态，抽离出去，这里之对外提供数据\r\n//     //   this.setState(()=>{\r\n//     //     // return {currentCityName:body.label}\r\n//     //     return {cityInfo:{...this.state.cityInfo,label,value}}\r\n//     //   })\r\n//     cb({label,value});\r\n//      }\r\n//     myCity.get(myFun); \r\n//   }\r\n  \r\n// promise 版本\r\nexport const getCurrentCity = ()=>{\r\n // 本地缓存\r\n const currCity =  getCity('curr_city')\r\n if (!currCity){\r\n    return new Promise(resolve=>{\r\n        const myCity = new BMap.LocalCity();\r\n        const myFun = async result=>{\r\n        const cityName = result.name;\r\n        // 通过接口查询城市\r\n        const {data} = await getAreaInfo(cityName);\r\n        const {body:{label,value}} =  data;\r\n        // 存\r\n        setCity({label,value})\r\n         // resolve 里的参数在then中通过形参可以获取\r\n          resolve({label,value})\r\n         }  \r\n         myCity.get(myFun); \r\n       })\r\n }else{\r\n    // return new Promise(resolve=>{\r\n    //     resolve(currCity)\r\n    // })\r\n   // 上下等价\r\n    return Promise.resolve(currCity)\r\n\r\n }\r\n\r\n  }","C:\\Users\\Administrator\\Desktop\\hkzfCode\\hkzf\\src\\utils\\lsCity.js",[],{"ruleId":"63","severity":1,"message":"64","line":3,"column":40,"nodeType":"65","messageId":"66","endLine":3,"endColumn":51},{"ruleId":"67","replacedBy":"68"},{"ruleId":"69","replacedBy":"70"},{"ruleId":"67","replacedBy":"71"},{"ruleId":"69","replacedBy":"72"},{"ruleId":"67","replacedBy":"73"},{"ruleId":"69","replacedBy":"74"},{"ruleId":"75","severity":1,"message":"76","line":12,"column":20,"nodeType":"77","messageId":"78","endLine":12,"endColumn":22},{"ruleId":"63","severity":1,"message":"79","line":3,"column":26,"nodeType":"65","messageId":"66","endLine":3,"endColumn":36},"no-unused-vars","'getAreaInfo' is defined but never used.","Identifier","unusedVar","no-native-reassign",["80"],"no-negated-in-lhs",["81"],["80"],["81"],["80"],["81"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","'removeCity' is defined but never used.","no-global-assign","no-unsafe-negation"]